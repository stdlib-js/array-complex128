// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{isPrimitive as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array-like-object@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-arraybuffer@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-object@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-complex-like@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-even@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-integer@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-iterator-symbol-support@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/symbol-iterator@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float64@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-real@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-imag@esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/strided-base-reinterpret-complex64@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/strided-base-reinterpret-complex128@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-arraylike2object@esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.0.2-esm/index.mjs";function v(e){var t,n,i;for(t=[];!(n=e.next()).done;)if(i=n.value,r(i)&&i.length>=2)t.push(i[0],i[1]);else{if(!f(i))return new TypeError(E("00C2F",i));t.push(g(i),b(i))}return t}function x(e,t,n){var i,s,o,h;for(i=[],h=-1;!(s=e.next()).done;)if(h+=1,o=t.call(n,s.value,h),r(o)&&o.length>=2)i.push(o[0],o[1]);else{if(!f(o))return new TypeError(E("00C2G",o));i.push(g(o),b(o))}return i}function C(e,r){var t,n,i,s;for(t=r.length,s=0,i=0;i<t;i++){if(n=r[i],!f(n))return null;e[s]=g(n),e[s+1]=b(n),s+=2}return e}var T=2*d.BYTES_PER_ELEMENT,_=m();function R(e){return e instanceof O||"object"==typeof e&&null!==e&&("Complex64Array"===e.constructor.name||"Complex128Array"===e.constructor.name)&&"number"==typeof e._length&&"object"==typeof e._buffer}function L(e){return e===O||"Complex64Array"===e.name}function B(e){return"object"==typeof e&&null!==e&&"Complex64Array"===e.constructor.name&&e.BYTES_PER_ELEMENT===T/2}function A(e){return"object"==typeof e&&null!==e&&"Complex128Array"===e.constructor.name&&e.BYTES_PER_ELEMENT===T}function O(){var r,m,a,w;if(m=arguments.length,!(this instanceof O))return 0===m?new O:1===m?new O(arguments[0]):2===m?new O(arguments[0],arguments[1]):new O(arguments[0],arguments[1],arguments[2]);if(0===m)a=new d(0);else if(1===m)if(e(arguments[0]))a=new d(2*arguments[0]);else if(t(arguments[0]))if((w=(a=arguments[0]).length)&&s(a)&&f(a[0])){if(null===(a=C(new d(2*w),a))){if(!h(w))throw new RangeError(E("00C2Y",w));a=new d(arguments[0])}}else{if(B(a))a=y(a,0);else if(A(a))a=c(a,0);else if(!h(w))throw new RangeError(E("invalid argument. Array-like object and typed array arguments must have a length which is a multiple of two. Length: `%u`.",w));a=new d(a)}else if(n(arguments[0])){if(!l((a=arguments[0]).byteLength/T))throw new RangeError(E("invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.",T,a.byteLength));a=new d(a)}else{if(!i(arguments[0]))throw new TypeError(E("00C2L",arguments[0]));if(a=arguments[0],!1===_)throw new TypeError(E("00C2K",a));if(!o(a[u]))throw new TypeError(E("00C2L",a));if(a=a[u](),!o(a.next))throw new TypeError(E("00C2L",a));if((a=v(a))instanceof Error)throw a;a=new d(a)}else{if(!n(a=arguments[0]))throw new TypeError(E("00C3j",a));if(!e(r=arguments[1]))throw new TypeError(E("00C2N",r));if(!l(r/T))throw new RangeError(E("invalid argument. Byte offset must be a multiple of %u. Value: `%u`.",T,r));if(2===m){if(w=a.byteLength-r,!l(w/T))throw new RangeError(E("invalid arguments. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.",T,w));a=new d(a,r)}else{if(!e(w=arguments[2]))throw new TypeError(E("00C2Q",w));if(w*T>a.byteLength-r)throw new RangeError(E("00C2R",w*T));a=new d(a,r,2*w)}}return p(this,"_buffer",a),p(this,"_length",a.length/2),this}p(O,"BYTES_PER_ELEMENT",T),p(O,"name","Complex128Array"),p(O,"from",(function(e){var n,s,l,m,p,a,d,w,y,c,C;if(!o(this))throw new TypeError(E("00C01"));if(!L(this))throw new TypeError(E("00C02"));if((s=arguments.length)>1){if(!o(l=arguments[1]))throw new TypeError(E("00C2S",l));s>2&&(n=arguments[2])}if(R(e)){if(d=e.length,l){for(p=(m=new this(d))._buffer,C=0,c=0;c<d;c++){if(y=l.call(n,e.get(c),c),f(y))p[C]=g(y),p[C+1]=b(y);else{if(!(r(y)&&y.length>=2))throw new TypeError(E("00C2G",y));p[C]=y[0],p[C+1]=y[1]}C+=2}return m}return new this(e)}if(t(e)){if(l){for(d=e.length,a=j(e),c=0;c<d;c++)if(!f(a.getter(e,c))){w=!0;break}if(w){if(!h(d))throw new RangeError(E("00C2T",d));for(p=(m=new this(d/2))._buffer,c=0;c<d;c++)p[c]=l.call(n,a.getter(e,c),c);return m}for(p=(m=new this(d))._buffer,C=0,c=0;c<d;c++){if(y=l.call(n,a.getter(e,c),c),f(y))p[C]=g(y),p[C+1]=b(y);else{if(!(r(y)&&y.length>=2))throw new TypeError(E("00C2G",y));p[C]=y[0],p[C+1]=y[1]}C+=2}return m}return new this(e)}if(i(e)&&_&&o(e[u])){if(p=e[u](),!o(p.next))throw new TypeError(E("00C2U",e));if((a=l?x(p,l,n):v(p))instanceof Error)throw a;for(p=(m=new this(d=a.length/2))._buffer,c=0;c<d;c++)p[c]=a[c];return m}throw new TypeError(E("00C2U",e))})),p(O,"of",(function(){var e,r;if(!o(this))throw new TypeError(E("00C01"));if(!L(this))throw new TypeError(E("00C02"));for(e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);return new this(e)})),a(O.prototype,"buffer",(function(){return this._buffer.buffer})),a(O.prototype,"byteLength",(function(){return this._buffer.byteLength})),a(O.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),p(O.prototype,"BYTES_PER_ELEMENT",O.BYTES_PER_ELEMENT),p(O.prototype,"copyWithin",(function(e,r){if(!R(this))throw new TypeError(E("00C02"));return 2===arguments.length?this._buffer.copyWithin(2*e,2*r):this._buffer.copyWithin(2*e,2*r,2*arguments[2]),this})),p(O.prototype,"entries",(function(){var e,r,t,n,i,s,o;if(!R(this))throw new TypeError(E("00C02"));return r=this,e=this._buffer,n=this._length,s=-1,o=-2,p(t={},"next",(function(){var r;if(s+=1,i||s>=n)return{done:!0};return r=new w(e[o+=2],e[o+1]),{value:[s,r],done:!1}})),p(t,"return",(function(e){if(i=!0,arguments.length)return{value:e,done:!0};return{done:!0}})),u&&p(t,u,(function(){return r.entries()})),t})),p(O.prototype,"get",(function(r){var t;if(!R(this))throw new TypeError(E("00C02"));if(!e(r))throw new TypeError(E("00C2V",r));if(!(r>=this._length))return t=this._buffer,new w(t[r*=2],t[r+1])})),a(O.prototype,"length",(function(){return this._length})),p(O.prototype,"set",(function(r){var n,i,s,o,l,m,u,p,a;if(!R(this))throw new TypeError(E("00C02"));if(s=this._buffer,arguments.length>1){if(!e(i=arguments[1]))throw new TypeError(E("00C2W",i))}else i=0;if(f(r)){if(i>=this._length)throw new RangeError(E("00C2X",i));return s[i*=2]=g(r),void(s[i+1]=b(r))}if(R(r)){if(i+(m=r._length)>this._length)throw new RangeError(E("00C03"));if(n=r._buffer,a=s.byteOffset+i*T,n.buffer===s.buffer&&n.byteOffset<a&&n.byteOffset+n.byteLength>a){for(o=new d(n.length),p=0;p<n.length;p++)o[p]=n[p];n=o}for(i*=2,a=0,p=0;p<m;p++)s[i]=n[a],s[i+1]=n[a+1],i+=2,a+=2}else{if(!t(r))throw new TypeError(E("00C2Z",r));for(m=r.length,p=0;p<m;p++)if(!f(r[p])){l=!0;break}if(l){if(!h(m))throw new RangeError(E("00C2Y",m));if(i+m/2>this._length)throw new RangeError(E("00C03"));if(n=r,a=s.byteOffset+i*T,n.buffer===s.buffer&&n.byteOffset<a&&n.byteOffset+n.byteLength>a){for(o=new d(m),p=0;p<m;p++)o[p]=n[p];n=o}for(i*=2,m/=2,a=0,p=0;p<m;p++)s[i]=n[a],s[i+1]=n[a+1],i+=2,a+=2;return}if(i+m>this._length)throw new RangeError(E("00C03"));for(i*=2,p=0;p<m;p++)u=r[p],s[i]=g(u),s[i+1]=b(u),i+=2}}));export{O as default};
//# sourceMappingURL=index.mjs.map
